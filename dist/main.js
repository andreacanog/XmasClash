!function(){"use strict";!function(){const s=["Pink","Green","White","Red","Yellow"],e=["GreenLines","PinkLines","RedLines","YellowLines","WhiteLines"];(new Image).src="./images/background.png";const t="./images/";let r,i;class n{constructor(){this.grid=[],this.rows=9,this.columns=9,this.score=0,this.movements=20,this.updatedByUser=!1,this.ballObj={"GreenStar.png":"Green.png","PinkStar.png":"Pink.png","RedStar.png":"Red.png","WhiteStar.png":"White.png","  YellowStar.png":"Yellow.png"}}startGame(){for(let s=0;s<this.rows;s++){let e=[];for(let r=0;r<this.columns;r++){let i=document.createElement("img");i.id=s.toString()+"-"+r.toString(),i.src=t+this.randomBall()+".png",this.makeBallDragable(i),document.getElementById("board").append(i),e.push(i)}this.grid.push(e)}}randomBall(){return s[Math.floor(Math.random()*s.length)]}randomBallWithLines(){return e[Math.floor(Math.random()*e.length)]}makeBallDragable(s){s.addEventListener("dragstart",this.dragStart),s.addEventListener("dragover",this.dragOver),s.addEventListener("dragenter",this.dragEnter),s.addEventListener("dragleave",this.dragLeave),s.addEventListener("drop",this.dragDrop),s.addEventListener("dragend",this.dragEnd.bind(this))}dragStart(){r=this}dragOver(s){s.preventDefault()}dragEnter(s){s.preventDefault()}dragLeave(s){s.preventDefault()}dragDrop(){i=this}dragEnd(){if(this.updatedByUser=!0,r.src.includes("blank")||i.src.includes("blank"))return;let s=r.id.split("-"),e=parseInt(s[0]),t=parseInt(s[1]),n=i.id.split("-"),l=parseInt(n[0]),c=parseInt(n[1]);if(c===t-1&&e===l||l===e-1&&c===t||l===e+1&&c===t||c===t+1&&e===l){let s=r.src,e=i.src;r.src=e,i.src=s;let t=this.validMoveForThree(),n=this.validMoveForFour();if(!this.validMoveForFive()&&!n&&!t){let s=r.src,e=i.src;r.src=e,i.src=s,this.movements+=1}this.updatedByUser&&(this.movements-=1)}this.updatedByUser=!1}clash(){this.clashFive(),this.clashFour(),this.clashThree(),document.getElementById("score").innerText=this.score,document.getElementById("movements").innerText=this.movements}clashThree(){let s=document.getElementById("crush3");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-2;t++){let r=this.grid[e][t],i=this.grid[e][t+1],n=this.grid[e][t+2],l=!1;(r.src===i.src&&i.src===n.src||l)&&!r.src.includes("blank")&&(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",s.play(),this.score+=10,this.checkIfGameWonOrLost())}for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-2;t++){let r=this.grid[t][e],i=this.grid[t+1][e],n=this.grid[t+2][e],l=!1;(r.src===i.src&&i.src===n.src||l)&&!r.src.includes("blank")&&(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",s.play(),this.score+=10,this.checkIfGameWonOrLost())}}clashFour(){let s=document.getElementById("crush4");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-3;t++){let r=this.grid[e][t],i=this.grid[e][t+1],n=this.grid[e][t+2],l=this.grid[e][t+3];r.src!==i.src||i.src!==n.src||n.src!==l.src||r.src.includes("blank")||(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",l.src="./images/blank.png",s.play(),this.score+=20,this.checkIfGameWonOrLost())}for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-3;t++){let r=this.grid[t][e],i=this.grid[t+1][e],n=this.grid[t+2][e],l=this.grid[t+3][e];r.src!==i.src||i.src!==n.src||n.src!==l.src||r.src.includes("blank")||(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",l.src="./images/blank.png",s.play(),this.score+=20,this.checkIfGameWonOrLost())}}clashFive(){let s=document.getElementById("crush5");for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-4;t++){let r=this.grid[e][t],i=this.grid[e][t+1],n=this.grid[e][t+2],l=this.grid[e][t+3],c=this.grid[e][t+4];r.src!==i.src||i.src!==n.src||n.src!==l.src||l.src!==c.src||r.src.includes("blank")||(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",l.src="./images/blank.png",c.src="./images/blank.png",s.play(),this.score+=30,this.checkIfGameWonOrLost())}for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns-4;t++){let r=this.grid[t][e],i=this.grid[t+1][e],n=this.grid[t+2][e],l=this.grid[t+3][e],c=this.grid[t+4][e];r.src!==i.src||i.src!==n.src||n.src!==l.src||l.src!==c.src||r.src.includes("blank")||(r.src="./images/blank.png",i.src="./images/blank.png",n.src="./images/blank.png",l.src="./images/blank.png",c.src="./images/blank.png",s.play(),this.score+=30,this.checkIfGameWonOrLost())}}validMoveForThree(){for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-2;e++){let t=this.grid[s][e],r=this.grid[s][e+1],i=this.grid[s][e+2],n=!1;if((t.src===r.src&&r.src===i.src||n)&&!t.src.includes("blank"))return!0}for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-2;e++){let t=this.grid[e][s],r=this.grid[e+1][s],i=this.grid[e+2][s],n=!1;if((t.src===r.src&&r.src===i.src||n)&&!t.src.includes("blank"))return!0}return!1}validMoveForFour(){for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-3;e++){let t=this.grid[s][e],r=this.grid[s][e+1],i=this.grid[s][e+2],n=this.grid[s][e+3];if(t.src===r.src&&r.src===i.src&&i.src===n.src&&!t.src.includes("blank"))return!0}for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-3;e++){let t=this.grid[e][s],r=this.grid[e+1][s],i=this.grid[e+2][s],n=this.grid[e+3][s];if(t.src===r.src&&r.src===i.src&&i.src===n.src&&!t.src.includes("blank"))return!0}}validMoveForFive(){for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-4;e++){let t=this.grid[s][e],r=this.grid[s][e+1],i=this.grid[s][e+2],n=this.grid[s][e+3],l=this.grid[s][e+4];if(t.src===r.src&&r.src===i.src&&i.src===n.src&&n.src===l.src&&!t.src.includes("blank"))return!0}for(let s=0;s<this.rows;s++)for(let e=0;e<this.columns-4;e++){let t=this.grid[e][s],r=this.grid[e+1][s],i=this.grid[e+2][s],n=this.grid[e+3][s],l=this.grid[e+4][s];if(t.src===r.src&&r.src===i.src&&i.src===n.src&&n.src===l.src&&!t.src.includes("blank"))return!0}}slideDownBall(){for(let s=0;s<this.columns;s++){let e=this.rows-1;for(let t=this.columns-1;t>=0;t--)this.grid[t][s].src.includes("blank")||(this.grid[e][s].src=this.grid[t][s].src,e-=1);for(let t=e;t>=0;t--)this.grid[t][s].src="./images/blank.png"}}populateBall(){for(let s=0;s<this.columns;s++)this.grid[0][s].src.includes("blank")&&(this.grid[0][s].src=t+this.randomBall()+".png")}checkIfGameWonOrLost(){this.gameOver(),this.gameWon()}gameOver(){0===this.movements&&(document.getElementById("gameOver").style.display="block")}gameWon(){this.score>=500&&(document.getElementById("gameWon").style.display="block")}}window.onload=function(){let s=document.getElementById("startGameModal"),e=document.getElementById("music-element"),t=document.getElementById("music-switch"),r=document.getElementById("gameWon"),i=document.getElementById("gameOver");const l=new n;document.addEventListener("click",(t=>{t.target.classList.contains("gamePlay")&&(s.style.display="none",e.play(),l.startGame(),window.setInterval((function(){l.clash(),l.slideDownBall(),l.populateBall()}),30))})),t.addEventListener("click",(()=>{e.paused?(e.play(),t.src="./images/pause.png"):(e.pause(),t.src="./images/start.png")}));let c=document.getElementById("gameInstructions"),a=document.getElementById("instructions-div");c.addEventListener("mouseover",(function(){a.style.display="block"})),c.addEventListener("mouseout",(function(){a.style.display="none"})),document.addEventListener("click",(s=>{s.target.classList.contains("restart")&&("block"===r.style.display?r.style.display="none":"block"===i.style.display&&(i.style.display="none"),l.score=0,l.movements=20)})),document.addEventListener("click",(s=>{s.target.classList.contains("restart2")&&("block"===r.style.display?r.style.display="none":"block"===i.style.display&&(i.style.display="none"),l.score=0,l.movements=20)}))}}()}();
//# sourceMappingURL=main.js.map